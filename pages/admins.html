<!DOCTYPE html>
<html lang="uz">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SmartCRM â€“ Adminlar</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../css/reset.css" />
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="stylesheet" href="../css/admins.css" />
  </head>
  <body>
    <!-- Global Confirm/Error Modal -->
    <div id="globalModal" class="modal hidden">
      <div class="modal-content">
        <p id="modalMessage"></p>
        <div class="modal-actions">
          <button id="modalConfirm" class="btn-primary">Ha</button>
          <button id="modalCancel">Bekor</button>
        </div>
      </div>
    </div>

    <!-- Create Admin Modal -->
    <div id="adminFormModal" class="modal hidden">
      <div class="modal-content">
        <h3 id="adminFormTitle">Yangi admin</h3>
        <form id="adminForm" autocomplete="off">
          <div class="input-group">
            <label for="adminFirstName">Ism</label>
            <input id="adminFirstName" type="text" required minlength="1" />

            <label for="adminLastName">Familya</label>
            <input id="adminLastName" type="text" required minlength="1" />

            <!-- <label for="adminPhoneNumber">Telefon raqami</label>
            <input
              id="adminPhoneNumber"
              type="text"
              required
              minlength="13"
              maxlength="13"
              pattern="^\+998\d{9}$"
              placeholder="+998901234567"
            /> -->

            <label for="adminUsername">Foydalanuvchi nomi (username)</label>
            <input
              id="adminUsername"
              type="text"
              required
              minlength="4"
              placeholder="Kamida 4 ta belgidan"
            />

            <label for="adminPassword">Parol</label>
            <input
              id="adminPassword"
              type="password"
              required
              minlength="6"
              placeholder="Kamida 6 ta belgidan"
            />
          </div>

          <div class="modal-actions">
            <button type="submit" class="btn-primary">Saqlash</button>
            <button type="button" id="adminFormCancel">Bekor</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Edit Admin Modal -->
    <div id="editAdminModal" class="modal hidden">
      <div class="modal-content">
        <h3>Adminni tahrirlash</h3>
        <form id="editAdminForm" autocomplete="off">
          <div class="input-group">
            <label for="editFirstName">Ism</label>
            <input id="editFirstName" type="text" required minlength="1" />

            <label for="editLastName">Familya</label>
            <input id="editLastName" type="text" required minlength="1" />

            <label for="editUsername">Admin nomi (username)</label>
            <input id="editUsername" type="text" required minlength="4" />

            <!-- <label for="editPhoneNumber">Telefon raqami</label>
            <input
              id="editPhoneNumber"
              type="text"
              required
              minlength="13"
              maxlength="13"
              pattern="^\+998\d{9}$"
              placeholder="+998901234567"
            /> -->

            <p style="margin-top: 0.5rem; font-size: 0.9rem; color: #666">
              Agar parolni o'zgartirmoqchi bo'lsangiz, eski va yangi parolni
              to'ldiring. Aks holda bo'sh qoldiring.
            </p>

            <label for="editOldPassword">Eski parol</label>
            <input id="editOldPassword" type="password" minlength="6" />

            <label for="editNewPassword">Yangi parol</label>
            <input id="editNewPassword" type="password" minlength="6" />
          </div>

          <div class="modal-actions">
            <button type="submit" class="btn-primary">Saqlash</button>
            <button type="button" id="editAdminCancel">Bekor</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Dark Mode & Sidebar Toggle -->
    <button id="themeToggle" class="theme-toggle">ðŸŒ™</button>
    <button id="sidebarToggle" class="sidebar-toggle">â˜°</button>

    <div class="sidebar">
      <ul>
        <li><a href="./dashboard.html">Dashboard</a></li>
        <li><a href="./admins.html" class="active">Adminlar</a></li>
        <li><a href="./teachers.html">O'qituvchilar</a></li>
        <li><a href="./students.html">O'quvchilar</a></li>
        <li><a href="./groups.html">Guruhlar</a></li>
        <li><a href="./attendances.html">Davomat</a></li>
        <li><a href="./payments.html">To'lovlar</a></li>
      </ul>
    </div>

    <div class="main-content">
      <header class="header">
        <h2>Adminlar boshqaruvi</h2>
        <button id="btnLogout" class="btn-logout">Chiqish</button>
      </header>

      <div class="toolbar">
        <button id="btnAddAdmin" class="btn btn-primary">+ Yangi admin</button>
        <input
          type="text"
          id="adminSearch"
          placeholder="Qidiruv (ism yoki login)"
        />
      </div>

      <table class="data-table" id="adminsTable">
        <thead>
          <tr>
            <th data-sort="username">Foydalanuvchi nomi</th>
            <th data-sort="isActive">Holat</th>
            <th>Amallar</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <script src="../js/lib/jquery.min.js"></script>
    <script src="../js/main.js"></script>
    <script src="../js/admins.js"></script>
  </body>
</html>
